<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC
   "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
   "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
   <constant name="struts.devMode" value="true" />
   <package name="helloworld" extends="struts-default">
     <interceptors>
     	<interceptor name="loginInterceptor" class="s6.suiviRegime.interceptor.LoginInterceptor"></interceptor>
     	<interceptor-stack name="loginStack">
     		<interceptor-ref name="loginInterceptor"/>
     		<interceptor-ref name="defaultStack"/>
     	</interceptor-stack>
     </interceptors>
     
      <action name="HelloWorld" 
            class="s6.suiviRegime.action.HelloWorldAction" 
            method="execute">
            <result name="success">/HelloWorld.jsp</result>
      </action>
      
      <action name="Inscription" 
            class="s6.suiviRegime.action.UtilisateurAuthentificationAction" 
            method="openInscription">
            <result name="success">/newRegime.jsp</result>
            <result name="error" type="redirectAction">Utilisateur</result>
      </action>
      
      <action name="Utilisateur/new" 
            class="s6.suiviRegime.action.UtilisateurAuthentificationAction" 
            method="inscription">
            <result name="success">Utilisateur/newRegime.jsp</result>
            <result name="error">/login.jsp</result>
            <result name="login">/login</result>
      </action>
      
      <action name="Connexion" 
            class="s6.suiviRegime.action.UtilisateurAuthentificationAction" 
            method="openLogin">
            <result name="success">login.jsp</result>
            <result name="error" type="redirectAction">Utilisateur</result>
      </action>
      
      <action name="Utilisateur/" 
            class="s6.suiviRegime.action.UtilisateurAuthentificationAction" 
            method="login">
            <result name="success" type="redirectAction">Utilisateur</result>
            <result name="error">/login.jsp</result>
      </action>
      <action name="Deconnexion" 
            class="s6.suiviRegime.action.UtilisateurAuthentificationAction" 
            method="logout">
            <result name="success">/login.jsp</result>
            <result name="error">/Utilisateur/index.jsp</result>
      </action>
      <action name="Utilisateur" 
            class="s6.suiviRegime.action.UtilisateurAction" 
            method="index">
            <interceptor-ref name="loginStack"/>
            <result name="success">/Utilisateur/index.jsp</result>
            <result name="error">/login.jsp</result>
            <result name="login" type="redirectAction">Connexion</result>
      </action>
      <action name="Utilisateur/Regime" 
            class="s6.suiviRegime.action.UtilisateurAction" 
            method="login">
            <interceptor-ref name="loginStack"/>
            <result name="success">/index.jsp</result>
            <result name="error">/login.jsp</result>
            <result name="login" type="redirectAction">Connexion</result>
      </action>
      <action name="Utilisateur/Poids" 
            class="s6.suiviRegime.action.UtilisateurAction" 
            method="login">
            <interceptor-ref name="loginStack"/>
            <result name="success">/index.jsp</result>
            <result name="error">/login.jsp</result>
            <result name="login" type="redirectAction">Connexion</result>
      </action>
      <action name="Utilisateur/Poids/add" 
            class="s6.suiviRegime.action.UtilisateurAction" 
            method="login">
            <interceptor-ref name="loginStack"/>
            <result name="success">/index.jsp</result>
            <result name="error">/login.jsp</result>
            <result name="login" type="redirectAction">Connexion</result>
      </action>
      <action name="Utilisateur/Alimentation" 
            class="s6.suiviRegime.action.UtilisateurAction" 
            method="login">
            <interceptor-ref name="loginStack"/>
            <result name="success">/index.jsp</result>
            <result name="error">/login.jsp</result>
            <result name="login" type="redirectAction">Connexion</result>
      </action>
      <action name="Utilisateur/Alimentation/add" 
            class="s6.suiviRegime.action.UtilisateurAction" 
            method="login">
            <interceptor-ref name="loginStack"/>
            <result name="success">/index.jsp</result>
            <result name="error">/login.jsp</result>
            <result name="login" type="redirectAction">Connexion</result>
      </action>
      <action name="Utilisateur/Sport" 
            class="s6.suiviRegime.action.UtilisateurAction" 
            method="login">
            <interceptor-ref name="loginStack"/>
            <result name="success">/index.jsp</result>
            <result name="error">/login.jsp</result>
            <result name="login" type="redirectAction">Connexion</result>
      </action>
      <action name="Utilisateur/Sport/add" 
            class="s6.suiviRegime.action.UtilisateurAction" 
            method="login">
            <interceptor-ref name="loginStack"/>
            <result name="success">/index.jsp</result>
            <result name="error">/login.jsp</result>
            <result name="login" type="redirectAction">Connexion</result>
      </action>
   </package>
</struts>