package s6.suiviRegime.service;
import s6.suiviRegime.dao.HibernateDao;
import s6.suiviRegime.modele.Utilisateur;
import java.util.Date;
import java.util.List;

public class UtilisateurService {
	private HibernateDao dao;
	private UtilisateurService(){
		if(dao == null) dao = new HibernateDao();
	}
	private static class Holder
	{		
		private final static UtilisateurService instance = new UtilisateurService();
	}
	public static UtilisateurService getInstance(){
		return Holder.instance;
	}
	public void inscription(String nom, String prenom, 
			Date dateNaissance, String sexe, String email, String password, String confirmPassword, String adresse) throws Exception{
		Utilisateur u = new Utilisateur();
		u.setNom(nom);
		u.setPrenom(prenom);
		u.setDateNaissance(dateNaissance);
		u.setSexe(sexe);
		u.setEmail(email);
		u.setPassword(password, confirmPassword);
		u.setAdresse(adresse);
		HibernateDao dao = new HibernateDao();
		dao.save(u);
	}
	public void login(String email, String password) throws Exception{
		Utilisateur u = new Utilisateur();
		u.setEmail(email);
		u.setPassword(password);
		List<Utilisateur> user = dao.findAll(u);
		
	}
}
